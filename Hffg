-- Simple Mobile Fly Script
-- Put as a LocalScript in StarterPlayerScripts

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local root = character:WaitForChild("HumanoidRootPart")

-- SETTINGS
local FLY_SPEED = 50
local UP_SPEED = 40

-- Body movers
local bodyGyro = Instance.new("BodyGyro")
bodyGyro.P = 9000
bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
bodyGyro.CFrame = root.CFrame

local bodyVelocity = Instance.new("BodyVelocity")
bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
bodyVelocity.Velocity = Vector3.zero

-- Enable flying
humanoid.PlatformStand = true
bodyGyro.Parent = root
bodyVelocity.Parent = root

RunService.RenderStepped:Connect(function()
	if not character or not root then return end

	-- Direction from mobile joystick
	local moveDir = humanoid.MoveDirection

	-- Horizontal movement
	local velocity = moveDir * FLY_SPEED

	-- Vertical movement (Jump button)
	if humanoid.Jump then
		velocity = Vector3.new(velocity.X, UP_SPEED, velocity.Z)
	else
		velocity = Vector3.new(velocity.X, -10, velocity.Z)
	end

	bodyVelocity.Velocity = velocity

	-- Face movement direction
	if moveDir.Magnitude > 0 then
		bodyGyro.CFrame = CFrame.new(root.Position, root.Position + moveDir)
	end
end)
